<div class="span2 container-fluid well sidebar-nav">
  <ul class="nav nav-list bs-docs-sidenav" id="menu">
    <li class="nav-header">资源管理</li>
    <li><a href="#substation_manager">组别管理</a></li>
    <li><a href="#line_manager">公司管理</a></li>
    <li class="nav-header">设备管理</li>
    <li><a href="#low_voltage">低压开关管理</a></li>
    <li><a href="#high_voltage">高压开关管理</a></li>
    <li><a href="#control_measure">无功补偿开关管理</a></li>
    <li><a href="#temperature_look">温度监控</a></li>
  </ul>
</div>

<script>
  (function(){
    // 根据地址高亮左边栏按钮, 默认'low_voltage'
    $('a[href*=#' + (location.href.split('#')[1] || 'low_voltage')+']').addClass('btn-success')

    // 点击时改变高亮按钮
    var navLinks = $('.nav').find('a')
    navLinks.click(function(){
      navLinks.removeClass('btn-success')
      $(this).addClass('btn-success')
    })

    var router = new dj.Router()
    router.start({
      '': loadVoltage,
      'low_voltage': loadVoltage,
      'high_voltage': loadVoltage,
      'control_measure': loadControlMeasure,
      'substation_manager': substationLoad,
      'line_manager': lineLoad,
      'temperature_look': loadTemperature
    })

    function loadVoltage() {
      dj.jsLoad('../../js/manager/selectManager.js', function(){
        dj.inserCmp('voltage_manager_modal.html', $('.modal')[0], function(){
          dj.inserCmp('voltage_manager.html', $('.container')[0])
        })
      })
    }

    function loadControlMeasure() {
      dj.jsLoad('../../js/manager/selectManager.js', function(){
        dj.inserCmp('control_measure_modal.html', $('.modal')[0], function(){
          dj.inserCmp('control_measure.html', $('.container')[0])
        })
      })
    }

    function loadTemperature() {
      dj.jsLoad('../../js/manager/selectManager.js', function(){
        dj.inserCmp('temperature_modal.html', $('.modal')[0], function(){
          dj.inserCmp('temperature.html', $('.container')[0])
        })
      })
    }

    function substationLoad() {
      dj.jsLoad('../../js/manager/clickManager.js', function(){
        dj.inserCmp('substation_manager_modal.html', $('.modal')[0], function(){
          dj.inserCmp('substation_manager.html', $('.container')[0])
        })
      })
    }

    function lineLoad() {
      dj.jsLoad('../../js/manager/clickManager.js', function(){
        dj.inserCmp('line_manager_modal.html', $('.modal')[0], function(){
          dj.inserCmp('line_manager.html', $('.container')[0])
        })
      })
    }

  })()

</script>